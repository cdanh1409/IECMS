{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\IECMS\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Bar, Line, Pie } from \"react-chartjs-2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard({\n  devices = []\n}) {\n  _s();\n  const [visibleDevices, setVisibleDevices] = useState(devices.reduce((acc, d) => ({\n    ...acc,\n    [d.DEVICE_ID]: true\n  }), {}));\n\n  // Filter dữ liệu theo visibleDevices\n  const filteredDevices = devices.filter(d => visibleDevices[d.DEVICE_ID]);\n  const handleToggleDevice = id => {\n    setVisibleDevices(prev => ({\n      ...prev,\n      [id]: !prev[id]\n    }));\n  };\n\n  // Bar/Line data\n  const chartData = {\n    labels: filteredDevices.map(d => d.DEVICE_NAME),\n    datasets: [{\n      label: \"kWh\",\n      data: filteredDevices.map(d => Number(d.kWh || 0)),\n      backgroundColor: filteredDevices.map(d => d.color),\n      borderColor: \"#333\",\n      borderWidth: 2,\n      tension: 0.4 // đường cong cho Line chart\n    }]\n  };\n  const pieData = {\n    labels: filteredDevices.map(d => d.DEVICE_NAME),\n    datasets: [{\n      data: filteredDevices.map(d => Number(d.kWh || 0)),\n      backgroundColor: filteredDevices.map(d => d.color),\n      borderWidth: 4\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"12px\"\n      },\n      children: devices.map(d => /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          marginRight: \"12px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: visibleDevices[d.DEVICE_ID],\n          onChange: () => handleToggleDevice(d.DEVICE_ID)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), d.DEVICE_NAME]\n      }, d.DEVICE_ID, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Bar, {\n      data: chartData,\n      options: {\n        responsive: true\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Line, {\n      data: chartData,\n      options: {\n        responsive: true\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Pie, {\n      data: pieData,\n      options: {\n        responsive: true\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"iKWvqjgf9V+NZaVOMMsZJ/C6Ds8=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","Bar","Line","Pie","jsxDEV","_jsxDEV","Dashboard","devices","_s","visibleDevices","setVisibleDevices","reduce","acc","d","DEVICE_ID","filteredDevices","filter","handleToggleDevice","id","prev","chartData","labels","map","DEVICE_NAME","datasets","label","data","Number","kWh","backgroundColor","color","borderColor","borderWidth","tension","pieData","children","style","marginBottom","marginRight","type","checked","onChange","fileName","_jsxFileName","lineNumber","columnNumber","options","responsive","_c","$RefreshReg$"],"sources":["D:/Web/IECMS/src/components/Dashboard.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Bar, Line, Pie } from \"react-chartjs-2\";\r\n\r\nfunction Dashboard({ devices = [] }) {\r\n  const [visibleDevices, setVisibleDevices] = useState(\r\n    devices.reduce((acc, d) => ({ ...acc, [d.DEVICE_ID]: true }), {})\r\n  );\r\n\r\n  // Filter dữ liệu theo visibleDevices\r\n  const filteredDevices = devices.filter(d => visibleDevices[d.DEVICE_ID]);\r\n\r\n  const handleToggleDevice = (id) => {\r\n    setVisibleDevices(prev => ({ ...prev, [id]: !prev[id] }));\r\n  };\r\n\r\n  // Bar/Line data\r\n  const chartData = {\r\n    labels: filteredDevices.map(d => d.DEVICE_NAME),\r\n    datasets: [\r\n      {\r\n        label: \"kWh\",\r\n        data: filteredDevices.map(d => Number(d.kWh || 0)),\r\n        backgroundColor: filteredDevices.map(d => d.color),\r\n        borderColor: \"#333\",\r\n        borderWidth: 2,\r\n        tension: 0.4, // đường cong cho Line chart\r\n      },\r\n    ],\r\n  };\r\n\r\n  const pieData = {\r\n    labels: filteredDevices.map(d => d.DEVICE_NAME),\r\n    datasets: [\r\n      {\r\n        data: filteredDevices.map(d => Number(d.kWh || 0)),\r\n        backgroundColor: filteredDevices.map(d => d.color),\r\n        borderWidth: 4,\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* Pie chart toggle devices */}\r\n      <div style={{ marginBottom: \"12px\" }}>\r\n        {devices.map(d => (\r\n          <label key={d.DEVICE_ID} style={{ marginRight: \"12px\" }}>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={visibleDevices[d.DEVICE_ID]}\r\n              onChange={() => handleToggleDevice(d.DEVICE_ID)}\r\n            />\r\n            {d.DEVICE_NAME}\r\n          </label>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Bar Chart */}\r\n      <Bar data={chartData} options={{ responsive: true }} />\r\n\r\n      {/* Line Chart */}\r\n      <Line data={chartData} options={{ responsive: true }} />\r\n\r\n      {/* Pie Chart */}\r\n      <Pie data={pieData} options={{ responsive: true }} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}